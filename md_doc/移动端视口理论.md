[TOC]

# 移动端视口理论

### 像素[¶](#_1)

屏幕是由一个一个发光的小点构成的，这一个一个小点就是像素

在前端开发中，像素分两种情况讨论：物理像素和css像素

#### 物理像素[¶](#_2)

物理像素就是上述所说的小点点

#### css像素[¶](#css)

编写网页时，我们用到的像素都是css像素

浏览器在显示网页时，需要将css像素转换成物理像素，然后再呈现

那么，一个css像素最终由几个物理像素组成，是由浏览器决定的：

`默认`情况下，一个css像素 = 一个物理像素

### 视口(viewport)[¶](#viewport)

视口就是屏幕中，显示网页的区域；简单说，视口就是浏览器的窗口

视口是可以拖拽，即大小是可以改变的

可以通过查看视口的大小，来观察css像素和物理像素的比值

```
打开浏览器，查看html元素的宽度，即为视口的长度（一般只看宽度）
```

默认情况下，审查元素查看html元素宽度：

```
视口宽度：1920px(css像素)
        1920px(物理像素)
```

放大网页时，可视区域变小，视口变小

放大两倍的情况，审查元素查看html元素宽度：

```
视口宽度：960px(css像素)
        1920px(物理像素)
        此时，css像素:物理像素 = 1:2
```

在放大两倍的情况下，创建一个100px的正方形盒子，用截图工具量取物理像素时，是200px

要理解的是，css像素和物理像素不一样；我们可以通过改变视口的大小，来改变css像素和物理像素的比值

### 手机像素[¶](#_3)

在不同的屏幕，单位像素的大小是不一样的，像素越小屏幕越清晰

```
以电脑为例，24寸 1920 x 1080 px，可以算出一寸有多少像素
iphone6,4.7寸 750 x 1334 px
```

这里关注移动端，[查看不同手机机型的分辨率](http://blog.chengyunfeng.com/devices/)

智能手机的像素点，远远小于计算机的像素点

问题：一个宽度为900px的网页，在iphone6中要如何显示呢？

```
创建宽为900px的盒子，审查元素调为手机端，查看iphone6机型的显示模式，发现还没有把宽度撑满

上述的750px是物理像素，900px是css像素，两者不能直接比较，应该看视口大小

查看iphone6的视口大小，为980px（一般移动端的视口大小都是980px），以确保没有做手机适配的网页，在手机端可以完整展示（以前的电脑端网页宽度一般不会超过1000px）

但是如果网页端的宽度超过了980px，移动端的浏览器会自动缩放，以保证一次性可以把网页看全

所以基本上大部分的pc端网页都可以在移动端正常访问，但往往不会有好的体验，为了解决这个问题，大部分网站都会专门为移动端设计网页
```

### 完美视口[¶](#_4)

移动端默认的视口大小是980px（css像素）

移动端的像素比就是`css像素/物理像素`，即`980/750`

如果直接在网页中编写移动端代码，这样在980视口下，像素比非常不好，导致网页中的内容非常小

所以，编写移动端页面时，必须确保有一个比较合理的像素比

```
1 css像素 对应 2 物理像素
1 css像素 对应 3 物理像素
```

那么，怎么调整像素比呢？

```
可以通过改变视口的大小，来改变css像素和物理像素的比值
```

那么，怎么调整视口大小呢？

```
可以通过meta标签，来设置视口大小

name:属性名
content:属性值
//设置视口的大小为100px
<meta name = "viewport“ content="width=100px">

此时再设置盒子宽为100px,手机端正好可以把屏幕撑满

此时像素比是100/750，此时一个css像素就占7.5个物理像素
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=100px"/>
        <title></title>
        <style>
            *{
                margin: 0;
                padding: 0;
            }
            .box1{
                width: 100px;
                height: 100px;
                background-color: red;
            }
        </style>
    </head>
    <body>
        <div class="box1"></div>
    </body>
</html>
```

#### 完美视口[¶](#_5)

那么，css像素究竟写多少，像素比究竟是多少才最合适呢

每一款移动设备设计时，都会有一个最佳的像素比

一般我们只需将像素比设置为该值即可得到一个最佳效果，以iphone6为例，[查看不同手机机型的分辨率](http://blog.chengyunfeng.com/devices/) ，发现iphone6的最佳像素比为2，算出视口大小为375px

所以我们将像素比设置为最佳像素比的视口大小称为`完美视口`

那么，375px是iphone6的完美视口，会是其他机型的完美视口吗？

答案是否定的。

所以设置`content = device-width`，`device-width`是浏览器提供的变量，表示设备的宽度，即完美视口

设置完美视口

<meta name="viewport" content="width=device-width, initial-scale=1.0">

### 结论[¶](#_6)

以后再写移动端的页面，就把上面的代码写上。

### vw单位[¶](#vw)

不同的设备，完美视口的大小是不一样的

```
iphone6 -- 375
iphon6plus -- 414
```

由于不同设备视口和像素比不同，所以同样的375像素在不同的设备下，意义是不一样的

```
比如在iphone6,375就是全屏，而到了plus中375就会缺一块
```

所以在移动端开发中，就不能再使用px来进行布局了

`vw`表示的是视口宽度(viewport width)

- 100vw = 一个视口宽度
- 1vw = 1/100 = 1% 视口宽度

vw这个单位永远相当于视口宽度进行计算

```
在学习js之前，移动端可以用vw来进行适配
```

#### 设计图的宽度[¶](#_7)

现在一般设计图的宽度，都是按照苹果的375px视口来做的

现在的设计图都是375的倍数

```
2倍图：750px
3倍图：1125px
```

| 设计图宽度 | 单位 |
| ---------- | ---- |
| 750px      | vw   |



现在想创建一个48 x 35 大小的元素（设计图里的大小）

```
100vw = 750px  ---->   1px = 100/750vw = 0.13333vw
?vw = 48px     ---->   100*48/750 = 6.4 vw

同理35px = 4.667vw
```

#### em和rem[¶](#emrem)

`1em` = 一个字体大小

`1rem` = 一个html的字体大小

可以借助rem来存储上述的比值；

```
    html{
        <!--font-size:100px;-->
        font-size:0.1333333vw;//0.1333333vw = 1px
    }
    .box{
        width:750rem;//  750rem = 750 * 1个html字体大小 = 750 * 0.13333vw = 750 * 1px = 750px
        height:4.667vw;
        background-color:orange;
    }
```

那么，现在想创建一个48 x 35 大小的元素（设计图里的大小）

可以写成下述形式吗

```
    html{
        font-size:0.1333333vw;
    }
    .box{
        width:48rem;// 6.24px
        height:35rem;// 4.55px
        background-color:orange;
    }
```

不能，因为网页字体大小，最小是12px，不能设置一个比12px还小的值（除了0），否则，字体自动设置为12px;

```
所以，当设置html{font-size:0.1333333vw}时，默认的值大小其实是12px;,所以实际展示的是盒子大小是 576 x 420px

可以在指定font-size时，扩大倍数，在指定宽高时，再除以对应的倍数；
```